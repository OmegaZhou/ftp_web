<head>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
        integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <script src="https://code.jquery.com/jquery-3.4.1.min.js"
        integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"
        integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1"
        crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"
        integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM"
        crossorigin="anonymous"></script>
    <style>
        
    </style>
    <script>
        var now_dir;
        function ajax_get(url,callback){
            $.get('/ftp/api/'+url,result=>{
                if(result.message!='success'){
                    location.href='/ftp/login.html'
                }else{
                    callback(result.result)
                }
            })
        }
        function get_dir(){
            ajax_get('get_dir',result=>{
                for(var i=0;i<result.length;++i){
                    $('#dir').context='';
                    var item=$('<li class="list-group-item"></li>');
                    item.attr('style',"height:20px")
                    var img=$('<img/>');
                    var link=$('<a></a>');
                    if(result[i].type=='d'){
                        img.attr('src','/ftp/img/folder.png');
                    }else{
                        img.attr('src','/ftp/img/file.png');
                    }
                    link.text(result[i].name);
                    item.append(img);
                    item.append(link);
                    $('#dir').append(item);
                }
            })
        }
        function pwd(){
            ajax_get('pwd',result=>{
                now_dir=result;
            })
        }
    </script>

</head>

<body>
    <div
        style="background:url('img/login.jpg') no-repeat;background-size:cover; position: absolute; width:100%; height: 100%;">
        <div class="container" style="width: 50%; background-color: azure">
            <div>
                <p></p>
            </div>
            <ul class="list-group" id="dir">
            
            </ul>
        </div>

        
            
    </div>
    <script>
        $(document).ready(function(){
            get_dir();
        })
    </script>
</body>

